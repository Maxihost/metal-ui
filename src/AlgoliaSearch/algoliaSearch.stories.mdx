import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import AlgoliaSearch from "./index";
import Text from "../Typography/Text"

<Meta title="AlgoliaSearch" component={AlgoliaSearch} />

## Props

<Props of={AlgoliaSearch} />

# Default
Try searching for a movie title like `The Shawshank Redemption`

<Preview>
  <Story name="Default">
    <div style={{ height: '300px' }}>
      <AlgoliaSearch
        ALGOLIA_APP_ID="XWSX3ZKORI"
        ALGOLIA_API_SEARCH_KEY="bc85ff85b128ba7dfc859b986cc9df21"
        indices={[
          {
            indexName: "movies",
            displayName: "Movies",
            renderCardInfo: (data) => <Text color="white">{data.title}</Text>,
            formatHitURL: (data) => `/${data.title}`,
          }
        ]}
        searchOperators={["<", "=", ">", ">=", "<="]}
        specialChar=":"
      />
    </div>
  </Story>
</Preview>

# Multiple indexes
Use multiple indexes to search for different data.

<Preview>
  <Story name="Multiple indexes">
    <div style={{ height: '300px' }}>
      <AlgoliaSearch
        ALGOLIA_APP_ID="XWSX3ZKORI"
        ALGOLIA_API_SEARCH_KEY="bc85ff85b128ba7dfc859b986cc9df21"
        indices={[
          {
            indexName: "movies",
            displayName: "Movies",
            renderCardInfo: (data) => <Text color="white">{data.title}</Text>,
            formatHitURL: (data) => `/${data.title}`,
          },
          {
            indexName: "actors",
            displayName: "Actors",
            renderCardInfo: (data) => <Text color="white">{data.title}</Text>,
            formatHitURL: (data) => `/${data.title}`,
          }
        ]}
        searchOperators={["<", "=", ">", ">=", "<="]}
        specialChar=":"
      />
    </div>
  </Story>
</Preview>

# Custom render

<Preview>
  <Story name="Custom render">
    <div style={{ height: '300px' }}>
      <AlgoliaSearch
        ALGOLIA_APP_ID="XWSX3ZKORI"
        ALGOLIA_API_SEARCH_KEY="bc85ff85b128ba7dfc859b986cc9df21"
        indices={[
          {
            indexName: "movies",
            displayName: "Movies",
            renderCardInfo: (data) => (
              <>
              <Text is="p" color="white">{data.title}</Text>
              <Text small bold color="white">Genres: </Text> 
              {data.genre.map((genre) => (
                <Text small color="white">{genre}&nbsp;</Text>
              ))} 
              </>
            ),
            formatHitURL: (data) => `/${data.title}`,
          }
        ]}
        searchOperators={["<", "=", ">", ">=", "<="]}
        specialChar=":"
      />
    </div>
  </Story>
</Preview>
